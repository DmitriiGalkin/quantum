import {Outlet, useLocation, useNavigate, useOutletContext} from "react-router-dom";
import {useAuth} from "../tools/auth";
import {
    BottomNavigation,
    BottomNavigationAction,
    Box,
    Paper,
    Stack,
    Theme,
} from "@mui/material";
import {NewMeet} from "../modules/meet";
import GroupsIcon from "@mui/icons-material/Groups";
import RocketIcon from "@mui/icons-material/Rocket";
import CreateProject from "../dialogs/CreateProject";
import CreateMeet from "../dialogs/CreateMeet";
import Options from "../dialogs/Options";
import Communitys from "../dialogs/Communitys";
import React, {useState} from "react";
import {makeStyles} from "@mui/styles";
import {More} from "../components/More";
import Dialog from "@mui/material/Dialog";
import {TransitionDialog} from "../components/TransitionDialog";

const useStyles = makeStyles((theme: Theme) => ({
    root: {
        height: '100vh',
        backgroundColor: theme.palette.background.paper,
    },
    bottomNavigation: {
        backgroundColor: 'white',
        padding: '8px 0 6px',
        position: 'fixed',
        bottom: 0,
        left: 0,
        right: 0,
        zIndex: 10
    },
}));

const MAIN_PAGES = ['', 'projects', 'tasks', 'uniques']
export const MainLayout = () => {
    const navigate = useNavigate();
    const location = useLocation();
    const classes = useStyles();
    const { logout } = useAuth();
    const [openMap, setOpenMap] = useState(false)
    const [newProject, setNewProject] = useState(false)
    const [newMeet, setNewMeet] = useState<NewMeet>()
    const [openOptions, setOpenOptions] = useState(false)
    const [openCommunity, setOpenCommunity] = useState(false)
    const bottomNavigationValue = MAIN_PAGES.findIndex((pageName) => '/' + pageName === location.pathname) || 0

    const menuItems = [
        { title: 'Новая встреча', onClick: () => setNewMeet({}) },
        { title: 'Новый проект', onClick: () => setNewProject(true) },
        { title: 'Сообщества', onClick: () => setOpenCommunity(true) },
        { title: 'Настройки', onClick: () => setOpenOptions(true) },
        { title: 'Выход', onClick: () => logout() },
    ]

    return (
        <>
            <Box className={classes.root}>
                <div style={{ position: 'sticky', padding: '15px 15px 14px 15px', background: 'linear-gradient(180deg, #FFB628 0%, #FF8F28 100%)' }}>
                    <Stack spacing={2} direction="row" justifyContent="space-between" style={{ width: '100%' }}>
                        <svg width="98" height="26" viewBox="0 0 98 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M19.8159 13.0468C19.8159 17.1482 16.4911 20.473 12.3897 20.473C8.28829 20.473 4.96345 17.1482 4.96345 13.0468C4.96345 8.94539 8.28829 5.62055 12.3897 5.62055C16.4911 5.62055 19.8159 8.94539 19.8159 13.0468ZM16.9671 24.2688C15.5548 24.8455 14.0094 25.1633 12.3897 25.1633C5.69793 25.1633 0.273193 19.7385 0.273193 13.0468C0.273193 6.35504 5.69793 0.930298 12.3897 0.930298C19.0814 0.930298 24.5062 6.35504 24.5062 13.0468C24.5062 15.4155 23.8265 17.6254 22.6515 19.4922C22.0547 19.1229 21.351 18.9097 20.5976 18.9097C18.439 18.9097 16.6891 20.6596 16.6891 22.8182C16.6891 23.3308 16.7877 23.8203 16.9671 24.2688Z" fill="white"/>
                            <circle cx="20.5976" cy="22.8183" r="2.34513" fill="white"/>
                            <path d="M32.9348 18.3212C30.8545 18.3212 29.2093 16.7847 29.2093 14.5685V8.62674H30.1339V14.5957C30.1339 16.3089 31.3712 17.4646 32.9348 17.4646C34.4848 17.4646 35.7357 16.3089 35.7357 14.5957V8.62674H36.6467V14.5685C36.6467 16.7847 35.0151 18.3212 32.9348 18.3212ZM48.5762 18.1444H47.6108L46.9718 15.765H41.4651L40.8125 18.1444H39.8471L42.5121 8.62674H45.9112L48.5762 18.1444ZM43.1783 9.55131L41.7099 14.9084H46.727L45.2722 9.55131H43.1783ZM59.3185 17.2742V8.62674H60.2295V18.1444H58.0676L54.1246 9.49693H53.3904V18.1444H52.4658V8.62674H54.7092L58.6523 17.2742H59.3185ZM63.8774 8.62674H71.2196V9.49693H68.0108V18.1444H67.0862V9.49693H63.8774V8.62674ZM78.4449 18.3212C76.3646 18.3212 74.7194 16.7847 74.7194 14.5685V8.62674H75.644V14.5957C75.644 16.3089 76.8813 17.4646 78.4449 17.4646C79.9949 17.4646 81.2458 16.3089 81.2458 14.5957V8.62674H82.1568V14.5685C82.1568 16.7847 80.5252 18.3212 78.4449 18.3212ZM97.7924 18.1444H96.8406L96.052 9.49693H95.3994L92.6393 18.1444H91.0756L88.3291 9.49693H87.6765L86.8879 18.1444H85.9361L86.8335 8.62674H89.0633L91.7147 17.2742H92.0274L94.6652 8.62674H96.895L97.7924 18.1444Z" fill="white"/>
                            <path d="M29.2093 8.62674V8.29927H28.8818V8.62674H29.2093ZM30.1339 8.62674H30.4614V8.29927H30.1339V8.62674ZM35.7357 8.62674V8.29927H35.4082V8.62674H35.7357ZM36.6467 8.62674H36.9742V8.29927H36.6467V8.62674ZM32.9348 17.9937C31.0306 17.9937 29.5368 16.5992 29.5368 14.5685H28.8818C28.8818 16.9703 30.6784 18.6486 32.9348 18.6486V17.9937ZM29.5368 14.5685V8.62674H28.8818V14.5685H29.5368ZM29.2093 8.95421H30.1339V8.29927H29.2093V8.95421ZM29.8064 8.62674V14.5957H30.4614V8.62674H29.8064ZM29.8064 14.5957C29.8064 16.4908 31.1914 17.792 32.9348 17.792V17.1371C31.551 17.1371 30.4614 16.127 30.4614 14.5957H29.8064ZM32.9348 17.792C34.6636 17.792 36.0632 16.4918 36.0632 14.5957H35.4082C35.4082 16.1259 34.306 17.1371 32.9348 17.1371V17.792ZM36.0632 14.5957V8.62674H35.4082V14.5957H36.0632ZM35.7357 8.95421H36.6467V8.29927H35.7357V8.95421ZM36.3192 8.62674V14.5685H36.9742V8.62674H36.3192ZM36.3192 14.5685C36.3192 16.6007 34.8374 17.9937 32.9348 17.9937V18.6486C35.1928 18.6486 36.9742 16.9688 36.9742 14.5685H36.3192ZM48.5762 18.1444V18.4719H49.0079L48.8915 18.0561L48.5762 18.1444ZM47.6108 18.1444L47.2945 18.2293L47.3597 18.4719H47.6108V18.1444ZM46.9718 15.765L47.288 15.6801L47.2229 15.4375H46.9718V15.765ZM41.4651 15.765V15.4375H41.2154L41.1493 15.6784L41.4651 15.765ZM40.8125 18.1444V18.4719H41.0622L41.1283 18.231L40.8125 18.1444ZM39.8471 18.1444L39.5318 18.0561L39.4154 18.4719H39.8471V18.1444ZM42.5121 8.62674V8.29927H42.2637L42.1967 8.53844L42.5121 8.62674ZM45.9112 8.62674L46.2266 8.53844L46.1596 8.29927H45.9112V8.62674ZM43.1783 9.55131V9.22384H42.9285L42.8625 9.46474L43.1783 9.55131ZM41.7099 14.9084L41.394 14.8218L41.2805 15.2359H41.7099V14.9084ZM46.727 14.9084V15.2359H47.1553L47.0431 14.8226L46.727 14.9084ZM45.2722 9.55131L45.5882 9.46549L45.5226 9.22384H45.2722V9.55131ZM48.5762 17.8169H47.6108V18.4719H48.5762V17.8169ZM47.9271 18.0595L47.288 15.6801L46.6555 15.8499L47.2945 18.2293L47.9271 18.0595ZM46.9718 15.4375H41.4651V16.0925H46.9718V15.4375ZM41.1493 15.6784L40.4967 18.0578L41.1283 18.231L41.7809 15.8516L41.1493 15.6784ZM40.8125 17.8169H39.8471V18.4719H40.8125V17.8169ZM40.1625 18.2327L42.8274 8.71504L42.1967 8.53844L39.5318 18.0561L40.1625 18.2327ZM42.5121 8.95421H45.9112V8.29927H42.5121V8.95421ZM45.5959 8.71504L48.2608 18.2327L48.8915 18.0561L46.2266 8.53844L45.5959 8.71504ZM42.8625 9.46474L41.394 14.8218L42.0257 14.995L43.4941 9.63789L42.8625 9.46474ZM41.7099 15.2359H46.727V14.5809H41.7099V15.2359ZM47.0431 14.8226L45.5882 9.46549L44.9562 9.63714L46.411 14.9942L47.0431 14.8226ZM45.2722 9.22384H43.1783V9.87879H45.2722V9.22384ZM59.3185 17.2742V17.6017H59.646V17.2742H59.3185ZM59.3185 8.62674V8.29927H58.991V8.62674H59.3185ZM60.2295 8.62674H60.5569V8.29927H60.2295V8.62674ZM60.2295 18.1444V18.4719H60.5569V18.1444H60.2295ZM58.0676 18.1444L57.7696 18.2803L57.857 18.4719H58.0676V18.1444ZM54.1246 9.49693L54.4225 9.36107L54.3352 9.16946H54.1246V9.49693ZM53.3904 9.49693V9.16946H53.0629V9.49693H53.3904ZM53.3904 18.1444V18.4719H53.7178V18.1444H53.3904ZM52.4658 18.1444H52.1383V18.4719H52.4658V18.1444ZM52.4658 8.62674V8.29927H52.1383V8.62674H52.4658ZM54.7092 8.62674L55.0072 8.49088L54.9198 8.29927H54.7092V8.62674ZM58.6523 17.2742L58.3543 17.4101L58.4417 17.6017H58.6523V17.2742ZM59.646 17.2742V8.62674H58.991V17.2742H59.646ZM59.3185 8.95421H60.2295V8.29927H59.3185V8.95421ZM59.902 8.62674V18.1444H60.5569V8.62674H59.902ZM60.2295 17.8169H58.0676V18.4719H60.2295V17.8169ZM58.3656 18.0085L54.4225 9.36107L53.8266 9.63279L57.7696 18.2803L58.3656 18.0085ZM54.1246 9.16946H53.3904V9.8244H54.1246V9.16946ZM53.0629 9.49693V18.1444H53.7178V9.49693H53.0629ZM53.3904 17.8169H52.4658V18.4719H53.3904V17.8169ZM52.7933 18.1444V8.62674H52.1383V18.1444H52.7933ZM52.4658 8.95421H54.7092V8.29927H52.4658V8.95421ZM54.4113 8.7626L58.3543 17.4101L58.9502 17.1384L55.0072 8.49088L54.4113 8.7626ZM58.6523 17.6017H59.3185V16.9467H58.6523V17.6017ZM63.8774 8.62674V8.29927H63.5499V8.62674H63.8774ZM71.2196 8.62674H71.5471V8.29927H71.2196V8.62674ZM71.2196 9.49693V9.8244H71.5471V9.49693H71.2196ZM68.0108 9.49693V9.16946H67.6833V9.49693H68.0108ZM68.0108 18.1444V18.4719H68.3383V18.1444H68.0108ZM67.0862 18.1444H66.7588V18.4719H67.0862V18.1444ZM67.0862 9.49693H67.4137V9.16946H67.0862V9.49693ZM63.8774 9.49693H63.5499V9.8244H63.8774V9.49693ZM63.8774 8.95421H71.2196V8.29927H63.8774V8.95421ZM70.8922 8.62674V9.49693H71.5471V8.62674H70.8922ZM71.2196 9.16946H68.0108V9.8244H71.2196V9.16946ZM67.6833 9.49693V18.1444H68.3383V9.49693H67.6833ZM68.0108 17.8169H67.0862V18.4719H68.0108V17.8169ZM67.4137 18.1444V9.49693H66.7588V18.1444H67.4137ZM67.0862 9.16946H63.8774V9.8244H67.0862V9.16946ZM64.2049 9.49693V8.62674H63.5499V9.49693H64.2049ZM74.7194 8.62674V8.29927H74.3919V8.62674H74.7194ZM75.644 8.62674H75.9714V8.29927H75.644V8.62674ZM81.2458 8.62674V8.29927H80.9183V8.62674H81.2458ZM82.1568 8.62674H82.4842V8.29927H82.1568V8.62674ZM78.4449 17.9937C76.5407 17.9937 75.0469 16.5992 75.0469 14.5685H74.3919C74.3919 16.9703 76.1885 18.6486 78.4449 18.6486V17.9937ZM75.0469 14.5685V8.62674H74.3919V14.5685H75.0469ZM74.7194 8.95421H75.644V8.29927H74.7194V8.95421ZM75.3165 8.62674V14.5957H75.9714V8.62674H75.3165ZM75.3165 14.5957C75.3165 16.4908 76.7014 17.792 78.4449 17.792V17.1371C77.0611 17.1371 75.9714 16.127 75.9714 14.5957H75.3165ZM78.4449 17.792C80.1737 17.792 81.5733 16.4918 81.5733 14.5957H80.9183C80.9183 16.1259 79.8161 17.1371 78.4449 17.1371V17.792ZM81.5733 14.5957V8.62674H80.9183V14.5957H81.5733ZM81.2458 8.95421H82.1568V8.29927H81.2458V8.95421ZM81.8293 8.62674V14.5685H82.4842V8.62674H81.8293ZM81.8293 14.5685C81.8293 16.6007 80.3475 17.9937 78.4449 17.9937V18.6486C80.7029 18.6486 82.4842 16.9688 82.4842 14.5685H81.8293ZM97.7924 18.1444V18.4719H98.1522L98.1184 18.1137L97.7924 18.1444ZM96.8406 18.1444L96.5145 18.1741L96.5417 18.4719H96.8406V18.1444ZM96.052 9.49693L96.3781 9.46719L96.351 9.16946H96.052V9.49693ZM95.3994 9.49693V9.16946H95.1602L95.0874 9.39735L95.3994 9.49693ZM92.6393 18.1444V18.4719H92.8785L92.9512 18.244L92.6393 18.1444ZM91.0756 18.1444L90.7635 18.2435L90.8361 18.4719H91.0756V18.1444ZM88.3291 9.49693L88.6412 9.3978L88.5687 9.16946H88.3291V9.49693ZM87.6765 9.49693V9.16946H87.3775L87.3504 9.46719L87.6765 9.49693ZM86.8879 18.1444V18.4719H87.1868L87.214 18.1741L86.8879 18.1444ZM85.9361 18.1444L85.6101 18.1137L85.5763 18.4719H85.9361V18.1444ZM86.8335 8.62674V8.29927H86.5354L86.5075 8.596L86.8335 8.62674ZM89.0633 8.62674L89.3764 8.53075L89.3055 8.29927H89.0633V8.62674ZM91.7147 17.2742L91.4016 17.3702L91.4726 17.6017H91.7147V17.2742ZM92.0274 17.2742V17.6017H92.2699L92.3406 17.3698L92.0274 17.2742ZM94.6652 8.62674V8.29927H94.4227L94.3519 8.5312L94.6652 8.62674ZM96.895 8.62674L97.221 8.596L97.1931 8.29927H96.895V8.62674ZM97.7924 17.8169H96.8406V18.4719H97.7924V17.8169ZM97.1667 18.1147L96.3781 9.46719L95.7259 9.52667L96.5145 18.1741L97.1667 18.1147ZM96.052 9.16946H95.3994V9.8244H96.052V9.16946ZM95.0874 9.39735L92.3273 18.0448L92.9512 18.244L95.7113 9.5965L95.0874 9.39735ZM92.6393 17.8169H91.0756V18.4719H92.6393V17.8169ZM91.3877 18.0453L88.6412 9.3978L88.017 9.59606L90.7635 18.2435L91.3877 18.0453ZM88.3291 9.16946H87.6765V9.8244H88.3291V9.16946ZM87.3504 9.46719L86.5617 18.1147L87.214 18.1741L88.0026 9.52667L87.3504 9.46719ZM86.8879 17.8169H85.9361V18.4719H86.8879V17.8169ZM86.2621 18.1751L87.1595 8.65748L86.5075 8.596L85.6101 18.1137L86.2621 18.1751ZM86.8335 8.95421H89.0633V8.29927H86.8335V8.95421ZM88.7502 8.72273L91.4016 17.3702L92.0278 17.1782L89.3764 8.53075L88.7502 8.72273ZM91.7147 17.6017H92.0274V16.9467H91.7147V17.6017ZM92.3406 17.3698L94.9784 8.72228L94.3519 8.5312L91.7142 17.1787L92.3406 17.3698ZM94.6652 8.95421H96.895V8.29927H94.6652V8.95421ZM96.569 8.65748L97.4664 18.1751L98.1184 18.1137L97.221 8.596L96.569 8.65748Z" fill="white"/>
                        </svg>
                        <Stack spacing={4} direction="row" justifyContent="space-between" alignItems="center">
                            <div onClick={() => navigate(`/map`)} style={{ display: 'flex' }}>
                                <svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1.66503 22.0888C1.94141 22.0888 2.22885 21.9893 2.58262 21.7903L8.2098 18.7612L14.3234 22.1883C14.7214 22.4094 15.1526 22.52 15.5616 22.52C15.9486 22.52 16.3355 22.4205 16.6672 22.2325L22.4491 18.9491C23.1124 18.5843 23.4109 18.0536 23.4109 17.3129V2.42134C23.4109 1.60325 22.9576 1.14998 22.1617 1.14998C21.8853 1.14998 21.5978 1.23842 21.233 1.43742L15.3737 4.69875L9.37061 1.01731C9.0279 0.818317 8.64096 0.707764 8.25402 0.707764C7.85603 0.707764 7.45804 0.818317 7.11532 1.01731L1.36653 4.2897C0.714266 4.66558 0.415771 5.19624 0.415771 5.93695V20.8064C0.415771 21.6245 0.869041 22.0888 1.66503 22.0888ZM7.4912 17.0034L2.50523 19.7451C2.44996 19.7672 2.39468 19.8004 2.3394 19.8004C2.25096 19.8004 2.19568 19.734 2.19568 19.6235V6.3681C2.19568 6.10278 2.29518 5.91483 2.56051 5.76006L7.09321 3.10678C7.23693 3.02939 7.35854 2.96306 7.4912 2.88567V17.0034ZM9.27111 17.1802V3.11783C9.38167 3.18416 9.51433 3.25049 9.62489 3.31683L14.5556 6.32388V20.1431C14.4008 20.0546 14.235 19.9772 14.0691 19.8888L9.27111 17.1802ZM16.3355 20.3421V6.21333L21.3215 3.49371C21.3767 3.46055 21.432 3.43844 21.4762 3.43844C21.5757 3.43844 21.631 3.50477 21.631 3.61532V16.8707C21.631 17.1471 21.5205 17.335 21.2662 17.4898L16.833 20.0657C16.6672 20.1652 16.5013 20.2647 16.3355 20.3421Z" fill="white"/>
                                </svg>
                            </div>
                            <More menuItems={menuItems}/>
                        </Stack>
                    </Stack>
                </div>
                <div style={{minHeight: '100vh', height: '100%', backgroundColor: '#F5F5F5'}}>
                    <div style={{ padding: '22px 15px 56px' }}>
                        <Outlet context={{ setNewProject, setOpenMap }} />
                    </div>
                </div>
                <div className={classes.bottomNavigation} style={{ fontSize: 9 }}>
                    <Stack spacing={2} direction="row" justifyContent="space-evenly" style={{ width: '100%' }}>
                        <Stack spacing={1} direction="column" alignItems="center" onClick={() => navigate(`/`)}>
                            <svg width="30" height="16" viewBox="0 0 30 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M11.0113 3.74323C10.9832 5.90636 12.7531 7.59192 14.7336 7.53573C16.4894 7.6481 18.512 6.32775 18.5542 3.8556C18.5823 1.86103 17.1074 0.0771484 14.8038 0.0771484C12.2334 0.0771484 11.0394 2.12791 11.0113 3.74323ZM8.20188 15.7948H14.8036H21.3352C21.3919 15.7948 21.4469 15.7964 21.5015 15.798H21.5015H21.5016H21.5016H21.5016C21.6093 15.8011 21.715 15.8041 21.8268 15.7948C22.2903 15.7667 22.3465 15.7105 22.3606 15.261C22.3746 14.5447 22.3886 13.8143 22.3606 13.0979C22.3465 12.6625 22.3184 12.213 22.2201 11.7916C21.7847 10.0358 20.675 8.9121 18.9192 8.43453C18.4276 8.29406 18.0062 8.36429 17.5567 8.71545C15.9273 10.0077 13.694 10.0218 12.0506 8.7295C11.6292 8.40643 11.2359 8.30811 10.7583 8.43453C8.93229 8.92615 7.68217 10.0358 7.37315 11.918C7.24464 12.7187 7.24831 13.5404 7.25197 14.3584C7.25352 14.7026 7.25505 15.0463 7.24673 15.3874C7.23269 15.6403 7.3872 15.7667 7.64003 15.7807C7.82263 15.7948 8.01928 15.7948 8.20188 15.7948ZM8.90438 5.21821C8.97461 6.81949 7.56998 8.26626 5.84228 8.26626C4.53598 8.26626 2.79424 7.31111 2.78019 5.20416C2.76614 3.25173 4.32528 2.08588 5.89847 2.12802C7.97732 2.18421 8.98866 3.86976 8.90438 5.21821ZM20.6886 5.17637C20.6605 6.89002 22.1072 8.30869 23.7085 8.25251C25.1412 8.35083 26.8127 7.25522 26.8408 5.20446C26.8549 3.3363 25.38 2.12832 23.7787 2.14237C21.728 2.15641 20.7026 3.79983 20.6886 5.17637ZM2.97667 14.4186C2.71863 14.4186 2.46059 14.4202 2.20308 14.4217H2.20293C1.68951 14.4249 1.17818 14.428 0.673075 14.4186C0.0971765 14.4046 0.0690839 14.3905 0.0550376 13.8287C0.0409913 13.1825 0.026945 12.5364 0.0550376 11.8903C0.125269 10.2609 1.55799 8.94055 3.21546 8.99674C3.38401 8.99674 3.59471 9.06697 3.72112 9.16529C4.22679 9.60073 4.78864 9.8957 5.46286 9.97998C5.70165 10.0081 5.82807 10.1204 5.82807 10.3873C5.82807 11.5953 5.84211 12.8033 5.85616 13.9972C5.85616 14.3062 5.7157 14.4046 5.43477 14.4046C5.01865 14.4046 4.60607 14.4081 4.19525 14.4116H4.19521L4.19501 14.4116C3.78774 14.4151 3.3822 14.4186 2.97667 14.4186ZM25.8298 14.4215C26.0874 14.4199 26.3449 14.4183 26.6024 14.4183C26.8056 14.4183 27.0097 14.4192 27.2143 14.4201C27.8297 14.4227 28.449 14.4254 29.0605 14.4043C29.4959 14.3902 29.5381 14.3341 29.5521 13.9127C29.5662 13.2806 29.5662 12.6626 29.5521 12.0305C29.51 10.3028 28.1896 9.01051 26.4619 8.99647C26.2512 8.98242 25.9984 9.08074 25.8298 9.20716C25.3382 9.60046 24.8325 9.89543 24.2005 9.96566C23.8914 10.0078 23.7791 10.1483 23.7791 10.4713C23.7951 11.1374 23.7928 11.799 23.7905 12.4611C23.7888 12.9579 23.7871 13.4551 23.7931 13.9548C23.7931 14.3902 23.8072 14.4183 24.2847 14.4183C24.7998 14.4277 25.3148 14.4246 25.8298 14.4215Z" fill={bottomNavigationValue === 0 ? "#FF9329" : "#A5A5A5" } />
                            </svg>
                            <span style={{ fontSize: 9, fontWeight:900, textTransform: 'uppercase', color: bottomNavigationValue === 0 ? "#FF9329" : "#A5A5A5" }}>Встречи</span>
                        </Stack>
                        <Stack spacing={1} direction="column" alignItems="center" onClick={() => navigate(`/projects`)}>
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M8.69701 13.3851C8.83681 13.3466 8.97744 13.3079 9.11908 13.2689C9.2124 13.4905 9.30619 13.7145 9.40061 13.94C9.57478 14.356 9.75111 14.7771 9.93063 15.1982C10.0254 15.4323 10.0975 15.4474 10.2795 15.2662C10.3809 15.1653 10.4825 15.0643 10.5842 14.9634C10.8895 14.6601 11.1953 14.3563 11.4968 14.0504C11.9216 13.6162 12.1415 13.099 12.1263 12.4873C12.1232 12.378 12.1166 12.2694 12.1101 12.1611C12.1012 12.0113 12.0922 11.8623 12.0922 11.7133C12.0922 11.6453 12.1301 11.5547 12.1832 11.5132C14.3145 9.89719 15.7593 7.79036 16.6657 5.29463C17.1397 3.98447 17.4317 2.62899 17.6062 1.25087C17.6782 0.661863 17.2156 0.159697 16.6278 0.238986C15.8807 0.337154 15.1298 0.450424 14.3979 0.624106C11.1404 1.39435 8.36063 2.94238 6.29764 5.63822C6.26351 5.68352 6.18766 5.72506 6.13078 5.72506C5.91462 5.72883 5.69846 5.72128 5.4861 5.7024C4.82624 5.64954 4.24982 5.8421 3.77579 6.29896C3.4296 6.62851 3.09071 6.97017 2.75328 7.31037C2.66932 7.39501 2.58545 7.47956 2.50159 7.56381C2.3499 7.71862 2.36506 7.79413 2.56985 7.8772C2.91871 8.02321 3.26888 8.16793 3.61959 8.31287C3.86741 8.4153 4.1155 8.51783 4.36359 8.62101C4.40992 8.63894 4.4545 8.66036 4.48666 8.67581C4.50189 8.68313 4.51433 8.68911 4.52286 8.69274C4.47451 8.87085 4.4269 9.04724 4.37966 9.22229C4.24161 9.73374 4.10666 10.2337 3.9654 10.7316C3.93506 10.8487 3.9654 10.9128 4.04504 10.9921C4.95518 11.8945 5.86153 12.7969 6.7603 13.7069C6.88165 13.8315 6.99542 13.8579 7.15469 13.8126C7.66333 13.6696 8.17434 13.5289 8.69701 13.3851ZM12.0012 4.20723C12.8924 4.20723 13.6091 4.92461 13.6053 5.81945C13.6053 6.71429 12.8962 7.41656 11.9936 7.41656C11.11 7.41279 10.4009 6.70296 10.3933 5.81945C10.3857 4.93971 11.1176 4.20723 12.0012 4.20723ZM1.12166 13.9938C1.444 13.9598 1.75876 13.9787 2.08489 14.0958C2.02422 14.1524 1.97872 14.1939 1.93321 14.2354L1.9332 14.2355C0.920668 15.1378 0.583157 16.2403 0.954798 17.5543C1.01927 17.7771 1.17854 17.8337 1.32644 17.6827C1.5919 17.407 1.92183 17.2409 2.27071 17.1088C2.75439 16.9245 3.26157 16.8431 3.77005 16.7616C3.90742 16.7396 4.04489 16.7175 4.18201 16.6934C4.9215 16.5613 5.47138 16.1573 5.68754 15.4097C5.8544 14.832 5.62686 14.3261 5.28556 13.8654C5.14904 13.6804 5.13387 13.6804 4.97839 13.8466C4.59158 14.2657 4.10617 14.4733 3.54112 14.4998C3.34013 14.5073 3.29083 14.462 3.29462 14.2657C3.30221 13.6729 3.53733 13.182 3.98102 12.7969C4.09858 12.6912 4.10617 12.6195 3.96585 12.5402C3.92284 12.5151 3.88012 12.4892 3.83728 12.4632C3.72528 12.3952 3.61252 12.3267 3.49182 12.2721C2.79784 11.9549 2.17211 12.0569 1.61086 12.5742C1.28093 12.8762 1.04581 13.2462 0.8562 13.6465C0.818277 13.7257 0.795523 13.8654 0.841031 13.9183C0.894122 13.9787 1.02685 14.0051 1.12166 13.9938Z" fill={bottomNavigationValue === 1 ? "#FF9329" : "#A5A5A5" }/>
                            </svg>
                            <span style={{ fontSize: 9, fontWeight:900, textTransform: 'uppercase', color: bottomNavigationValue === 1 ? "#FF9329" : "#A5A5A5" }}>Проекты</span>
                        </Stack>
                    </Stack>
                </div>
            </Box>
            <Dialog onClose={() => setNewProject(false)} open={newProject} fullScreen TransitionComponent={TransitionDialog}>
                {newProject && (<CreateProject onClose={() => setNewProject(false)} />)}
            </Dialog>
            <Dialog onClose={() => setNewMeet(undefined)} open={!!newMeet} fullScreen TransitionComponent={TransitionDialog}>
                {!!newMeet && (<CreateMeet newMeet={newMeet} onClose={() => setNewMeet(undefined)} />)}
            </Dialog>
            <Communitys openCommunity={openCommunity} onClose={() => setOpenCommunity(false)} />
            <Options openOptions={openOptions} onClose={() => setOpenOptions(false)} />
        </>
    )
};

interface MainContextType {
    setNewProject: (open: boolean) => void
    setOpenMap: (open: boolean) => void
}
export function useMain() {
    return useOutletContext<MainContextType>();
}